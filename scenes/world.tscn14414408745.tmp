[gd_scene load_steps=47 format=3 uid="uid://cim5ukairdcvq"]

[ext_resource type="Texture2D" uid="uid://boh8i64e6ower" path="res://assets/Mundo/Mundo.png" id="1_4wyf3"]
[ext_resource type="Script" uid="uid://n6gujomtfngi" path="res://scenes/world.gd" id="1_qfnet"]
[ext_resource type="Script" uid="uid://bsf4ghohe36ib" path="res://components/new_tutorial_component.gd" id="2_lakw3"]
[ext_resource type="PackedScene" uid="uid://cxd4h0hh6n80h" path="res://scenes/player/player.tscn" id="2_qfnet"]
[ext_resource type="PackedScene" uid="uid://bljhsfid7fwt5" path="res://components/dialog_box.tscn" id="3_2lf6f"]
[ext_resource type="Texture2D" uid="uid://dj3b7ucebv66q" path="res://assets/dialogbox/background.png" id="4_7iits"]
[ext_resource type="Texture2D" uid="uid://d3f4w4evjj14n" path="res://assets/Mundo/MundoDetalle_n.png" id="4_i7141"]
[ext_resource type="Script" uid="uid://pi5y46fygqd7" path="res://scripts/player_following_cam.gd" id="4_k0juu"]
[ext_resource type="Script" uid="uid://bahg56iq72biq" path="res://scripts/floor.gd" id="4_o8fc1"]
[ext_resource type="Script" uid="uid://cfvbre7idakdb" path="res://scenes/race_barrier.gd" id="7_7t5mc"]
[ext_resource type="PackedScene" uid="uid://clpp612804f2t" path="res://scenes/objects/ardilla.tscn" id="7_w7kh3"]
[ext_resource type="Script" uid="uid://d0y6fyt2lwa06" path="res://scenes/goal_barrier.gd" id="8_7t5mc"]
[ext_resource type="PackedScene" uid="uid://dwt1tt745f165" path="res://scenes/obstacles/Piedra.tscn" id="8_dss4m"]
[ext_resource type="PackedScene" uid="uid://blyau3f6gflnq" path="res://scenes/obstacles/Agua.tscn" id="9_xo05s"]
[ext_resource type="PackedScene" uid="uid://cwjkocn4pmcgw" path="res://scenes/obstacles/Hoyo.tscn" id="10_dss4m"]
[ext_resource type="PackedScene" uid="uid://ddlyq4ertop1w" path="res://components/transition_component.tscn" id="11_e3hyu"]
[ext_resource type="PackedScene" uid="uid://57gf4vc0lkv8" path="res://components/audio_manager.tscn" id="12_jhx03"]
[ext_resource type="AudioStream" uid="uid://odk150h5we1o" path="res://assets/Music/Evening.mp3" id="13_o8fc1"]
[ext_resource type="Script" uid="uid://swirjnlfh6ki" path="res://scenes/day_animations.gd" id="15_xo05s"]
[ext_resource type="PackedScene" uid="uid://blku7ef3a025r" path="res://scenes/characters/dr_kring.tscn" id="19_ctatt"]
[ext_resource type="Script" uid="uid://dfruey5ap2pxi" path="res://scenes/race_mode_manager.gd" id="21_7iits"]
[ext_resource type="Script" uid="uid://dant3t764qls6" path="res://scenes/racer_comp.gd" id="22_ctatt"]
[ext_resource type="Texture2D" uid="uid://bywqe8vpb6s5c" path="res://assets/Aseprites/Robot tierroso.png" id="22_kpybi"]
[ext_resource type="PackedScene" uid="uid://jg03u502ldhj" path="res://scenes/animations/sprite_animations.tscn" id="23_ctatt"]
[ext_resource type="Texture2D" uid="uid://cx8b1jojaymtb" path="res://assets/Aseprites/Robot marino.png" id="23_munwf"]
[ext_resource type="Texture2D" uid="uid://d0c1l7xngjxsw" path="res://assets/Aseprites/Robot aereo nuevo.png" id="25_ts3gi"]
[ext_resource type="PackedScene" uid="uid://btjahidcpij0l" path="res://components/3dTimedSpawn.tscn" id="28_0nbtd"]

[sub_resource type="Gradient" id="Gradient_i7141"]
offsets = PackedFloat32Array(0, 0.3, 0.6, 1)
colors = PackedColorArray(0.156863, 0.156863, 0.180392, 1, 0.423529, 0.337255, 0.513726, 1, 0.627451, 0.509804, 0.517647, 1, 1, 0.968627, 0.894118, 1)
metadata/_snap_enabled = true

[sub_resource type="GradientTexture1D" id="GradientTexture1D_dss4m"]
gradient = SubResource("Gradient_i7141")

[sub_resource type="Environment" id="Environment_qfnet"]
background_mode = 1
background_color = Color(0.423529, 0.337255, 0.443137, 1)
background_energy_multiplier = 0.01
fog_light_color = Color(0.22431, 0.246636, 0.281735, 1)
volumetric_fog_density = 0.0
adjustment_enabled = true
adjustment_contrast = 1.1
adjustment_color_correction = SubResource("GradientTexture1D_dss4m")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_i7141"]
transparency = 1
blend_mode = 3
roughness_texture_channel = 3
normal_enabled = true
normal_texture = ExtResource("4_i7141")
heightmap_deep_parallax = true
heightmap_min_layers = 8
heightmap_max_layers = 32
grow_amount = 4.055

[sub_resource type="BoxShape3D" id="BoxShape3D_4wyf3"]
size = Vector3(190, 0.5, 190)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jhx03"]
albedo_color = Color(0.423529, 0.337255, 0.443137, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_o8fc1"]
material = SubResource("StandardMaterial3D_jhx03")
size = Vector2(200, 200)

[sub_resource type="BoxShape3D" id="BoxShape3D_jhx03"]
size = Vector3(76.4, 10, 76.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_dss4m"]
size = Vector3(1, 8, 11.91)

[sub_resource type="Animation" id="Animation_o8fc1"]
resource_name = "Night&Day"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.0, 0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_xo05s"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dss4m"]
_data = {
&"Night&Day": SubResource("Animation_o8fc1"),
&"RESET": SubResource("Animation_xo05s")
}

[sub_resource type="Curve3D" id="Curve3D_0nbtd"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0.2, 0, 0, 0, 0, 0, 0, 0, 9.21785, 0.199951, 0.160103, 0, 0, 0, 0, 0, 0, 18.6989, 0.199951, 0.149464, 0, 0, 0, 0, 0, 0, 23.2522, 0.199951, 1.22081, 0, 0, 0, 0, 0, 0, 25.3949, 0.199951, 0.863693, 0, 0, 0, 0, 0, 0, 31.4659, 0.199951, -0.0290947, 0, 0, 0, 0, 0, 0, 35.6139, 0.199951, 0.502468, 0, 0, 0, 0, 0, 0, 39.4027, 0.199951, -1.75553, 0, 0, 0, 0, 0, 0, 43.7274, 0.199951, -3.1333, 0, 0, 0, 0, 0, 0, 47.0549, 0.199951, -3.91167, 0, 0, 0, 0, 0, 0, 51.1882, 0.199951, -3.45242, 0, 0, 0, 0, 0, 0, 52.566, 0.199951, -2.45736, 0, 0, 0, 0, 0, 0, 58.7632, 0.199951, -0.990795, 0, 0, 0, 0, 0, 0, 66.4557, 0.199951, -0.990795, 0, 0, 0, 0, 0, 0, 73.6503, 0.199951, -1.10141, 0, 0, 0, 0, 0, 0, 74.4538, 0.199951, -2.70843, 0, 0, 0, 0, 0, 0, 74.4538, 0.199951, -7.57414, 0, 0, 0, 0, 0, 0, 74.2635, 0.199951, -13.0445, 0, 0, 0, 0, 0, 0, 74.385, 0.199951, -16.8098, 0, 0, 0, 0, 0, 0, 74.7494, 0.199951, -21.1218, 0, 0, 0, 0, 0, 0, 74.8538, 0.199951, -40.2582, 0, 0, 0, 0, 0, 0, 74.6716, 0.199951, -44.813, 0, 0, 0, 0, 0, 0, 74.4723, 0.199951, -52.2026, 0, 0, 0, 0, 0, 0, 76.9342, 0.199951, -57.8494, 0, 0, 0, 0, 0, 0, 76.9949, 0.199951, -61.6755, 0, 0, 0, 0, 0, 0, 76.0232, 0.199951, -64.8943, 0, 0, 0, 0, 0, 0, 73.6547, 0.199951, -65.8053, 0, 0, 0, 0, 0, 0, 70.861, 0.199951, -64.955, 0, 0, 0, 0, 0, 0, 69.8286, 0.199951, -63.0724, 0, 0, 0, 0, 0, 0, 69.5857, 0.199951, -59.2463, 0, 0, 0, 0, 0, 0, 69.5249, 0.199951, -56.9992, 0, 0, 0, 0, 0, 0, 70.1322, 0.199951, -55.7846, 0, 0, 0, 0, 0, 0, 73.0474, 0.199951, -54.6307, 0, 0, 0, 0, 0, 0, 77.1164, 0.199951, -55.1772, 0, 0, 0, 0, 0, 0, 76.0232, 0.199951, -59.1855, 0, 0, 0, 0, 0, 0, 73.5939, 0.199951, -61.797, 0, 0, 0, 0, 0, 0, 72.1971, 0.199951, -60.0965, 0, 0, 0, 0, 0, 0, 72.5615, 0.199951, -57.9102, 0, 0, 0, 0, 0, 0, 74.2013, 0.199951, -57.6065, 0, 0, 0, 0, 0, 0, 74.5657, 0.199951, -59.1855, 0, 0, 0, 0, 0, 0, 75.1737, 0.199951, -68.9639, 0, 0, 0, 0, 0, 0, 73.9591, 0.199951, -73.3366, 0, 0, 0, 0, 0, 0, 74.8288, 0.199951, -80.5113, 0, 0, 0, 0, 0, 0, 73.3713, 0.199951, -86.6452, 0, 0, 0, 0, 0, 0, 65.0511, 0.199951, -89.0138, 0, 0, 0, 0, 0, 0, 56.9326, 0.199951, -88.736, 0, 0, 0, 0, 0, 0, 51.5882, 0.199951, -88.6145, 0, 0, 0, 0, 0, 0, 43.8753, 0.199951, -88.6145, 0, 0, 0, 0, 0, 0, 37.4377, 0.199951, -88.736, 0, 0, 0, 0, 0, 0, 33.4902, 0.199951, -89.1004, 0, 0, 0, 0, 0, 0, 27.5385, 0.199951, -88.9789, 0, 0, 0, 0, 0, 0, 22.7407, 0.199951, -88.736),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 52
up_vector_enabled = false

[sub_resource type="Animation" id="Animation_h17s1"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0.2, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-1.5708, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_je7p5"]
resource_name = "idle"
length = 1.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1, 1, 1), Vector3(1.1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_fm80t"]
resource_name = "walking"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0.2, 0), Vector3(0.5, 0.2, -0.25), Vector3(0, 0.2, 0), Vector3(-0.5, 0.2, -0.25)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(-1.5708, 0, 0), Vector3(-1.5708, 0, -0.261799), Vector3(-1.5708, 0, 0), Vector3(-1.5708, 0, 0.261799)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q5onr"]
_data = {
&"RESET": SubResource("Animation_h17s1"),
&"idle": SubResource("Animation_je7p5"),
&"walking": SubResource("Animation_fm80t")
}

[sub_resource type="Curve3D" id="Curve3D_37qwj"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0.2, 0, 0, 0, 0, 0, 0, 0, 76.4246, 0.199951, -0.277916, 0, 0, 0, 0, 0, 0, 76.4285, 0.199951, -93.5005, 0, 0, 0, 0, 0, 0, -16.8919, 0.199951, -93.1595, 0, 0, 0, 0, 0, 0, -10.4348, 0.199951, -82.2693, 0, 0, 0, 0, 0, 0, -16.3136, 0.199951, -75.8123, 0, 0, 0, 0, 0, 0, -9.76707, 0.199951, -72.8486, 0, 0, 0, 0, 0, 0, -15.2604, 0.199951, -67.5481, 0, 0, 0, 0, 0, 0, -11.5018, 0.199951, -62.8258, 0, 0, 0, 0, 0, 0, -16.6399, 0.199951, -50.3484, 0, 0, 0, 0, 0, 0, -16.8326, 0.199951, -44.0841, 0, 0, 0, 0, 0, 0, -17.0971, 0.199951, -20.2014, 0, 0, 0, 0, 0, 0, -16.8965, 0.199951, -7.63754, 0, 0, 0, 0, 0, 0, -14.8438, 0.199951, -6.93661, 0, 0, 0, 0, 0, 0, -12.2877, 0.199951, -6.0638, 0, 0, 0, 0, 0, 0, -10.2643, 0.199951, -11.4595, 0, 0, 0, 0, 0, 0, -12.1753, 0.199951, -17.1924, 0, 0, 0, 0, 0, 0, -14.5359, 0.199951, -16.7428, 0, 0, 0, 0, 0, 0, -14.9855, 0.199951, -13.3705, 0, 0, 0, 0, 0, 0, -14.8731, 0.199951, -9.32369, 0, 0, 0, 0, 0, 0, -14.8731, 0.199951, -3.92801, 0, 0, 0, 0, 0, 0, -14.6562, 0.199951, 0.317139),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 22
up_vector_enabled = false

[sub_resource type="Curve3D" id="Curve3D_navra"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0.2, 0, 0, 0, 0, 0, 0, 0, 6.59537, 0.199951, 0.291561, 0, 0, 0, 0, 0, 0, 12.127, 0.199951, 0.243176, 0, 0, 0, 0, 0, 0, 19.5206, 0.199951, 0.243176, 0, 0, 0, 0, 0, 0, 23.5818, 0.199951, 2.16967, 0, 0, 0, 0, 0, 0, 25.7166, 0.199951, 2.11761, 0, 0, 0, 0, 0, 0, 28.1117, 0.199951, 0.815918, 0, 0, 0, 0, 0, 0, 32.173, 0.199951, -0.381638, 0, 0, 0, 0, 0, 0, 36.2342, 0.199951, 1.02419, 0, 0, 0, 0, 0, 0, 38.5773, 0.199951, 2.58622, 0, 0, 0, 0, 0, 0, 42.8792, 0.199951, 3.76891, 0, 0, 0, 0, 0, 0, 46.4198, 0.199951, 2.46722, 0, 0, 0, 0, 0, 0, 52.9803, 0.199951, 3.92511, 0, 0, 0, 0, 0, 0, 57.7185, 0.199951, 5.12266, 0, 0, 0, 0, 0, 0, 61.8318, 0.199951, 2.98789, 0, 0, 0, 0, 0, 0, 61.988, 0.199951, 0.853123, 0, 0, 0, 0, 0, 0, 59.8012, 0.199951, 0.0721092, 0, 0, 0, 0, 0, 0, 56.4168, 0.199951, 0.176243, 0, 0, 0, 0, 0, 0, 56.1044, 0.199951, 1.6862, 0, 0, 0, 0, 0, 0, 58.083, 0.199951, 3.1441, 0, 0, 0, 0, 0, 0, 62.3525, 0.199951, 4.91439, 0, 0, 0, 0, 0, 0, 67.4351, 0.199951, 3.51205, 0, 0, 0, 0, 0, 0, 70.5191, 0.199951, 0.524475, 0, 0, 0, 0, 0, 0, 71.6756, 0.199951, -2.4631, 0, 0, 0, 0, 0, 0, 72.0611, 0.199951, -7.76364, 0, 0, 0, 0, 0, 0, 71.7719, 0.199951, -13.8352, 0, 0, 0, 0, 0, 0, 72.1574, 0.199951, -19.3284, 0, 0, 0, 0, 0, 0, 72.2714, 0.199951, -32.5592, 0, 0, 0, 0, 0, 0, 72.4435, 0.199951, -43.7119),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 29
up_vector_enabled = false

[node name="World" type="Node3D"]
script = ExtResource("1_qfnet")
debugging = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_qfnet")

[node name="NewTutorialComponent" type="Node3D" parent="." node_paths=PackedStringArray("player", "player_tuto_spot")]
script = ExtResource("2_lakw3")
player = NodePath("../Player")
player_tuto_spot = NodePath("../Marcadores/SilmusHouse")

[node name="UI" type="Control" parent="NewTutorialComponent"]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="NewTutorialComponent/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -288.0
offset_top = -228.0
offset_right = 288.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("4_7iits")

[node name="PrimeraParte" parent="NewTutorialComponent/UI" instance=ExtResource("3_2lf6f")]
layout_mode = 1
InputEnable = false
Timerstart = false
Dialog = PackedStringArray("...", "Hello???", "Yes!!! ", "It works!", "I mean...", "YOU work...", "Welcome to life Silmus.", "Pleasure to meet you, Im Dr. Kring", "I built you for a very important reason...", "To win THE GREAT SIRKUIT RACE!!!!", "So then, let\'s get to it...")

[node name="SegundaParte" parent="NewTutorialComponent/UI" instance=ExtResource("3_2lf6f")]
visible = false
layout_mode = 1
offset_left = 332.0
offset_top = 488.0
offset_right = 908.0
offset_bottom = 680.0
InputEnable = false
Timerstart = false
Dialog = PackedStringArray()

[node name="Player" parent="." node_paths=PackedStringArray("house_marker", "race_marker", "transition", "music") instance=ExtResource("2_qfnet")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.237, 0.5, 33.2014)
override = true
ardillas = 1
chicles = 1
days_to_explore = 1
house_marker = NodePath("../Marcadores/SilmusHouse")
race_marker = NodePath("../Marcadores/RaceStart")
transition = NodePath("../TransitionComponent")
music = NodePath("../AudioManager")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.984808, -6.64073e-10, 0.173648, -0.173648, -7.59039e-09, 0.984808, 6.64073e-10, -1, -7.5904e-09, 0, 6.49755, 0)
shadow_enabled = true

[node name="PlayerFollower" type="Camera3D" parent="." node_paths=PackedStringArray("player")]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 10, 0)
script = ExtResource("4_k0juu")
player = NodePath("../Player")

[node name="Floor" type="StaticBody3D" parent="."]
script = ExtResource("4_o8fc1")

[node name="Sprite3DFloor" type="Sprite3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
material_overlay = SubResource("StandardMaterial3D_i7141")
modulate = Color(0.903598, 0.903598, 0.903598, 1)
pixel_size = 0.05
shaded = true
alpha_cut = 1
texture_filter = 0
texture = ExtResource("1_4wyf3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
shape = SubResource("BoxShape3D_4wyf3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.50816, 0)
mesh = SubResource("PlaneMesh_o8fc1")

[node name="RaceBarrier" type="StaticBody3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -7, 0)
script = ExtResource("7_7t5mc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/RaceBarrier"]
shape = SubResource("BoxShape3D_jhx03")

[node name="GoalBarrier" type="StaticBody3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -32, -5, 43)
script = ExtResource("8_7t5mc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/GoalBarrier"]
shape = SubResource("BoxShape3D_dss4m")

[node name="Area3D" type="Area3D" parent="Floor/GoalBarrier"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.29868, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/GoalBarrier/Area3D"]
shape = SubResource("BoxShape3D_dss4m")

[node name="Riesgos" type="Node3D" parent="."]

[node name="Piedra" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.1901, 0, 31.0796)

[node name="Piedra5" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 36.5781, 0, 15.2622)

[node name="Piedra6" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43.9735, 0, 15.2622)

[node name="Piedra7" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0730891, 0, 15.2622)

[node name="Piedra8" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(-0.343496, 0, -0.939154, 0, 1, 0, 0.939154, 0, -0.343496, -0.0730891, 0, 24.1474)

[node name="Piedra10" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0730891, 0, 32.4222)

[node name="Piedra2" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.1901, 0, 31.0796)

[node name="Piedra3" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.1901, 0, 23.5301)

[node name="Piedra4" parent="Riesgos" instance=ExtResource("8_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.444, 0, 23.5301)

[node name="Agua" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 19.9669, 0, -10)

[node name="Agua2" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.6727, 0, -10)

[node name="Agua3" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.4409, 0, -10)

[node name="Agua4" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 27.4409, 0, -16.362)

[node name="Agua5" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 27.4409, 0, -23.9266)

[node name="Agua6" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 20.4409, 0, -23.9266)

[node name="Agua7" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(-2.18557e-07, 0, 1, 0, 1, 0, -1, 0, -2.18557e-07, 12.4409, 0, -23.9266)

[node name="Agua8" parent="Riesgos" instance=ExtResource("9_xo05s")]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 12.4409, 0, -16.9266)

[node name="Hoyo" parent="Riesgos" instance=ExtResource("10_dss4m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.0778, 0, -0.879007)

[node name="Hoyo2" parent="Riesgos" instance=ExtResource("10_dss4m")]
transform = Transform3D(0.448274, 0, 0.893896, 0, 1, 0, -0.893896, 0, 0.448274, -14.1182, 0, -0.879007)

[node name="Hoyo3" parent="Riesgos" instance=ExtResource("10_dss4m")]
transform = Transform3D(0.448274, 0, 0.893896, 0, 1, 0, -0.893896, 0, 0.448274, -17.9944, 0, -6.38922)

[node name="Objetos" type="Node3D" parent="."]

[node name="Ardilla" parent="Objetos" instance=ExtResource("7_w7kh3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.719, 0, 27.3196)
Zona = 2
Numero = 1

[node name="Ardilla2" parent="Objetos" instance=ExtResource("7_w7kh3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.7402, 0, -16.9263)
Zona = 3
Numero = 1

[node name="Ardilla3" parent="Objetos" instance=ExtResource("7_w7kh3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.7621, 0, -26.3735)
Zona = 4
Numero = 1

[node name="Personajes" type="Node3D" parent="."]

[node name="Dr_Kring" parent="Personajes" instance=ExtResource("19_ctatt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 0, 25)
quest_completed = false

[node name="Dr_Kring2" parent="Personajes" instance=ExtResource("19_ctatt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.1728, 0, 25)
quest_completed = false

[node name="Scientificos" type="Node3D" parent="."]

[node name="Marcadores" type="Node3D" parent="."]

[node name="SilmusHouse" type="Marker3D" parent="Marcadores"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.954, 0.5, 23.974)

[node name="KringeReturn" type="Marker3D" parent="Marcadores"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.954, 0.5, 24.974)

[node name="RaceStart" type="Marker3D" parent="Marcadores"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30.109, 0.5, 39.654)

[node name="SilmusInventor" type="Marker3D" parent="Marcadores"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24.0049, 0, 37.0204)

[node name="TransitionComponent" parent="." instance=ExtResource("11_e3hyu")]
enable_in = true

[node name="AudioManager" parent="." instance=ExtResource("12_jhx03")]
stream = ExtResource("13_o8fc1")

[node name="DayAnimations" type="AnimationPlayer" parent="."]
process_mode = 3
libraries = {
&"": SubResource("AnimationLibrary_dss4m")
}
script = ExtResource("15_xo05s")

[node name="RaceModeManager" type="Node3D" parent="." node_paths=PackedStringArray("transition", "scientist", "scientist_spot", "scientist_return")]
script = ExtResource("21_7iits")
transition = NodePath("../TransitionComponent")
scientist = NodePath("../Personajes/Dr_Kring")
scientist_spot = NodePath("../Marcadores/SilmusInventor")
scientist_return = NodePath("../Marcadores/KringeReturn")

[node name="Agua" type="Node3D" parent="RaceModeManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.9764, 0, 44.3659)
visible = false
script = ExtResource("22_ctatt")
time_to_run = 35.0

[node name="Path3D" type="Path3D" parent="RaceModeManager/Agua"]
curve = SubResource("Curve3D_0nbtd")

[node name="PathFollow3D" type="PathFollow3D" parent="RaceModeManager/Agua/Path3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
rotation_mode = 0

[node name="Sprite" type="Sprite3D" parent="RaceModeManager/Agua/Path3D/PathFollow3D"]
transform = Transform3D(1, 0, 0, 0, -3.61999e-06, 1, 0, -1, -3.61999e-06, 0, 0.2, 0)
pixel_size = 0.04
shaded = true
alpha_cut = 1
texture_filter = 0
texture = ExtResource("23_munwf")

[node name="SpriteAnimations" parent="RaceModeManager/Agua/Path3D/PathFollow3D/Sprite" instance=ExtResource("23_ctatt")]
libraries = {
&"AnimLibrary": SubResource("AnimationLibrary_q5onr")
}
autoplay = "AnimLibrary/walking"

[node name="Aire" type="Node3D" parent="RaceModeManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.9642, 0, 46.6731)
visible = false
script = ExtResource("22_ctatt")
time_to_run = 50.0

[node name="Path3D" type="Path3D" parent="RaceModeManager/Aire"]
curve = SubResource("Curve3D_37qwj")

[node name="PathFollow3D" type="PathFollow3D" parent="RaceModeManager/Aire/Path3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
rotation_mode = 0

[node name="Sprite" type="Sprite3D" parent="RaceModeManager/Aire/Path3D/PathFollow3D"]
transform = Transform3D(1, 0, 0, 0, -3.61999e-06, 1, 0, -1, -3.61999e-06, 0, 0.2, 0)
pixel_size = 0.04
shaded = true
alpha_cut = 1
texture_filter = 0
texture = ExtResource("25_ts3gi")

[node name="SpriteAnimations" parent="RaceModeManager/Aire/Path3D/PathFollow3D/Sprite" instance=ExtResource("23_ctatt")]
libraries = {
&"AnimLibrary": SubResource("AnimationLibrary_q5onr")
}
autoplay = "AnimLibrary/walking"

[node name="Piedra" type="Node3D" parent="RaceModeManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, 41.8031)
visible = false
script = ExtResource("22_ctatt")

[node name="Path3D" type="Path3D" parent="RaceModeManager/Piedra"]
curve = SubResource("Curve3D_navra")

[node name="PathFollow3D" type="PathFollow3D" parent="RaceModeManager/Piedra/Path3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
rotation_mode = 0

[node name="Sprite" type="Sprite3D" parent="RaceModeManager/Piedra/Path3D/PathFollow3D"]
transform = Transform3D(1, 0, 0, 0, -3.61999e-06, 1, 0, -1, -3.61999e-06, 0, 0.2, 0)
pixel_size = 0.04
shaded = true
alpha_cut = 1
texture_filter = 0
texture = ExtResource("22_kpybi")

[node name="SpriteAnimations" parent="RaceModeManager/Piedra/Path3D/PathFollow3D/Sprite" instance=ExtResource("23_ctatt")]
libraries = {
&"AnimLibrary": SubResource("AnimationLibrary_q5onr")
}
autoplay = "AnimLibrary/walking"

[node name="3dTimedSpawn" parent="RaceModeManager" instance=ExtResource("28_0nbtd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.1924, 8, 41.7046)

[node name="3dTimedSpawn2" parent="RaceModeManager" instance=ExtResource("28_0nbtd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.0324, 8, 41.7046)

[node name="3dTimedSpawn3" parent="RaceModeManager" instance=ExtResource("28_0nbtd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.6731, 8, 45.6823)

[connection signal="DayEnd" from="Player" to="DayAnimations" method="_on_player_day_end"]
[connection signal="StartRace" from="Player" to="Floor/RaceBarrier" method="_on_player_start_race"]
[connection signal="StartRace" from="Player" to="Floor/GoalBarrier" method="_on_player_start_race"]
[connection signal="StartRace" from="Player" to="RaceModeManager" method="_on_player_start_race"]
[connection signal="body_entered" from="Floor/GoalBarrier/Area3D" to="Floor/GoalBarrier" method="_on_area_3d_body_entered"]
[connection signal="TweenDone" from="RaceModeManager/Agua" to="RaceModeManager/Agua" method="_on_tween_done"]
[connection signal="TweenDone" from="RaceModeManager/Aire" to="RaceModeManager/Aire" method="_on_tween_done"]
[connection signal="TweenDone" from="RaceModeManager/Piedra" to="RaceModeManager/Piedra" method="_on_tween_done"]
